<!DOCTYPE HTML>
<html>
<title>The Firebug Swarm: Index Page</title>
<script type="text/javascript">
function getFirefoxVersion()
{
    if (navigator.product != 'Gecko')
        return false;

    var ua = navigator.userAgent.toLowerCase();

    var reVersion = /irefox\/(\d*)\.(\d*)/;

    var m = ua.match(reVersion);
    if (window.console) console.log("User Agent ", ua, m);
    return m[1]+'.'+m[2];
}

function redirect()
{
    if (window.location.protocol === 'chrome')
        return;

    var FF = getFirefoxVersion();
    if (window.console)console.log("Firefox Version", FF);

    var branch = [];
    var root = [];
    var addToBranch = false;
    var parts = window.location.toString().split('/');
    for (var i = 0; i < parts.length; i++)
    {
        if (parts[i-1] == "swarms")
            addToBranch = true;
        if (addToBranch)
            branch.push(parts[i]);
        else
            root.push(parts[i]);
    }

    var url = root.join('/') + "/Firefox-"+FF+'/'+branch.join('/');

    if (window.console)console.log("Redirect to "+url);

    if (FF)
       window.location =  url;
}
window.addEventListener('load', redirect, true);
</script>
<body>
<h1>The Firebug Swarm Index Page</h1>
<p>The Firebug Swarm is a collection of Firebug extensions tested together. This co-testing and co-distribution helps users know that these extensions will work and that they have the correct versions.</p>
<p>If you reach this page with a version Firebug Swarm supported browser, then you should be redirected to the Swarm page appropriate for your browser.</p>
<h2>The supported browsers:</h2>
<ul>
<li><a href="Firefox-3.6">Firefox 3.6</a></li>
<li><a href="Firefox-4.0">Firefox 4.0</a></li>
</ul>
</body>
</html>
